<!DOCTYPE html>
<meta charset=UTF-8>
<title>ダミーさん</title>
<!-- dummysan.html ver. 2012-02-07 -->
<script src=dummysan.js></script>
<style>
html { margin: 0; padding: 0 }
body { padding: 1em 50px }
h1 { font-size: 20px }
img { margin-right: 10px }
#rack { direction: rtl; text-align: left }
</style>
<body>
<h1>ダミーさん</h1>
<p><input placeholder="320 240"><button type=button>ダミー画像をつくる</button></p>

<p id=rack></p>

<script>
var input  = document.querySelector('input'),
    button = document.querySelector('button'),
    rack   = document.querySelector('#rack');

button.addEventListener('click', function () {
    // 入力された値を数値として取得
    var parsedInput = Dummysan.parse(input.value);

    if (!parsedInput.length) return;

    var dummyWidth  = parsedInput[0],
        dummyHeight = parsedInput[1];

    // ダミー画像を描画したcanvas要素を取得
    var canvas = Dummysan.create(dummyWidth, dummyHeight);

    // 取得したダミー画像をimg要素に格納して追加
    if (!!canvas) {
        var img = document.createElement('img');
        img.src = canvas.toDataURL();
        rack.appendChild(img);
    }
}, false);
</script>
